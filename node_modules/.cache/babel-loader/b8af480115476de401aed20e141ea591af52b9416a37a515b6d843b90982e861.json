{"ast":null,"code":"import { createAsyncThunk } from \"@reduxjs/toolkit\";\nimport { API } from \"./api\";\nimport jwt_decode from 'jwt-decode';\nexport const login = createAsyncThunk('auth/login', async (form, thunkAPI) => {\n  try {\n    const response = await API.post(`auth/login/`, form);\n    let token = response.data.access;\n    let userId = jwt_decode(token);\n    let userData = await API.post('auth/user/');\n    return response.data;\n  } catch (err) {\n    return thunkAPI.rejectWithValue(err.response.data.message);\n  }\n});\nexport const register = createAsyncThunk('auth/register', async (form, thunkAPI) => {\n  try {\n    const response = await API.post(`auth/login/`, form);\n    console.log('Login response: ', response.data);\n    let token = response.data.access;\n    let decoded = jwt_decode(token);\n    console.log(decoded);\n    return response.data;\n  } catch (err) {\n    return thunkAPI.rejectWithValue(err.response.data.message);\n  }\n});","map":{"version":3,"names":["createAsyncThunk","API","jwt_decode","login","form","thunkAPI","response","post","token","data","access","userId","userData","err","rejectWithValue","message","register","console","log","decoded"],"sources":["/Users/sabrina_/Documents/prog/G4G-project/g4g-test/src/api/auth.js"],"sourcesContent":["import { createAsyncThunk } from \"@reduxjs/toolkit\";\nimport { API } from \"./api\";\nimport jwt_decode from 'jwt-decode'\n\n\nexport const login = createAsyncThunk(\n    'auth/login',\n    async (form, thunkAPI) => {\n        try {\n            const response = await API.post(`auth/login/`, form);\n            let token = response.data.access\n            let userId = jwt_decode(token)\n            let userData = await API.post('auth/user/')\n\n            return response.data;\n        } catch (err) {\n            return thunkAPI.rejectWithValue(err.response.data.message);            \n        }\n    }\n);\n\nexport const register = createAsyncThunk(\n    'auth/register',\n    async (form, thunkAPI) => {\n        try {\n            const response = await API.post(`auth/login/`, form);\n            console.log('Login response: ', response.data);\n            let token = response.data.access\n            let decoded = jwt_decode(token)\n            console.log(decoded)\n            return response.data;\n        } catch (err) {\n            return thunkAPI.rejectWithValue(err.response.data.message);            \n        }\n    }\n);"],"mappings":"AAAA,SAASA,gBAAgB,QAAQ,kBAAkB;AACnD,SAASC,GAAG,QAAQ,OAAO;AAC3B,OAAOC,UAAU,MAAM,YAAY;AAGnC,OAAO,MAAMC,KAAK,GAAGH,gBAAgB,CACjC,YAAY,EACZ,OAAOI,IAAI,EAAEC,QAAQ,KAAK;EACtB,IAAI;IACA,MAAMC,QAAQ,GAAG,MAAML,GAAG,CAACM,IAAI,CAAE,aAAY,EAAEH,IAAI,CAAC;IACpD,IAAII,KAAK,GAAGF,QAAQ,CAACG,IAAI,CAACC,MAAM;IAChC,IAAIC,MAAM,GAAGT,UAAU,CAACM,KAAK,CAAC;IAC9B,IAAII,QAAQ,GAAG,MAAMX,GAAG,CAACM,IAAI,CAAC,YAAY,CAAC;IAE3C,OAAOD,QAAQ,CAACG,IAAI;EACxB,CAAC,CAAC,OAAOI,GAAG,EAAE;IACV,OAAOR,QAAQ,CAACS,eAAe,CAACD,GAAG,CAACP,QAAQ,CAACG,IAAI,CAACM,OAAO,CAAC;EAC9D;AACJ,CAAC,CACJ;AAED,OAAO,MAAMC,QAAQ,GAAGhB,gBAAgB,CACpC,eAAe,EACf,OAAOI,IAAI,EAAEC,QAAQ,KAAK;EACtB,IAAI;IACA,MAAMC,QAAQ,GAAG,MAAML,GAAG,CAACM,IAAI,CAAE,aAAY,EAAEH,IAAI,CAAC;IACpDa,OAAO,CAACC,GAAG,CAAC,kBAAkB,EAAEZ,QAAQ,CAACG,IAAI,CAAC;IAC9C,IAAID,KAAK,GAAGF,QAAQ,CAACG,IAAI,CAACC,MAAM;IAChC,IAAIS,OAAO,GAAGjB,UAAU,CAACM,KAAK,CAAC;IAC/BS,OAAO,CAACC,GAAG,CAACC,OAAO,CAAC;IACpB,OAAOb,QAAQ,CAACG,IAAI;EACxB,CAAC,CAAC,OAAOI,GAAG,EAAE;IACV,OAAOR,QAAQ,CAACS,eAAe,CAACD,GAAG,CAACP,QAAQ,CAACG,IAAI,CAACM,OAAO,CAAC;EAC9D;AACJ,CAAC,CACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}